<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Ders Takip - Munise Hoca</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
    
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="ikon.png">

    <style>
    /* Alt menÃ¼ olduÄŸu iÃ§in sayfanÄ±n altÄ±nÄ± boÅŸ bÄ±rak */
    main { padding-bottom: 100px !important; }

    /* Mobil uyumlu input stili */
    .input-mobil {
        width: 100%;
        padding: 12px;
        background-color: #f9fafb;
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        font-weight: 600;
        font-size: 14px;
        outline: none;
        transition: all 0.2s;
    }
    .input-mobil:focus {
        background-color: white;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    /* Mobil gÃ¼n butonlarÄ± */
    .gun-btn-mobil {
        flex: 1;
        padding: 10px 0;
        border-radius: 8px;
        border: 1px solid #f3f4f6;
        font-size: 10px;
        font-weight: 700;
        color: #9ca3af;
        background: white;
        transition: all 0.2s;
    }
    /* Mobil sÃ¼re butonlarÄ± (GÃ¼n butonlarÄ±yla aynÄ± stilde) */
    .sure-btn-mobil {
        width: 100%;
        padding: 10px 0;
        border-radius: 8px;
        border: 1px solid #f3f4f6;
        font-size: 11px;
        font-weight: 700;
        color: #6b7280;
        background: white;
        transition: all 0.2s;
    }
    
    /* SeÃ§ili olduÄŸunda alacaÄŸÄ± renk */
    .secili-sure {
        background-color: #3b82f6 !important; /* Mavi */
        color: white !important;
        border-color: #3b82f6 !important;
    }
    /* Aktif menÃ¼ butonu rengi */
    .nav-btn.text-blue-600 span { color: #2563eb; }
    
    /* GÃ¼venli alan (iPhone Ã§entiÄŸi vb iÃ§in) */
    .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
</style>

    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth-compat.js"></script>
</head>
<body class="bg-gray-50 text-gray-900">

<div id="loginSayfa" class="fixed inset-0 z-[100] bg-white flex flex-col items-center justify-center p-6 text-center">
    <div class="absolute top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none">
        <div class="absolute -top-24 -left-24 w-96 h-96 bg-blue-50 rounded-full blur-3xl opacity-60"></div>
        <div class="absolute -bottom-24 -right-24 w-96 h-96 bg-indigo-50 rounded-full blur-3xl opacity-60"></div>
    </div>

    <div class="mb-8 relative">
        <div class="w-24 h-24 bg-gradient-to-tr from-blue-600 to-indigo-600 rounded-3xl shadow-2xl flex items-center justify-center transform rotate-12 hover:rotate-0 transition-transform duration-500">
            <span class="text-4xl text-white font-black -rotate-12 hover:rotate-0 transition-transform duration-500">M</span>
        </div>
        <div class="absolute -bottom-2 -right-2 bg-white p-2 rounded-xl shadow-lg">
            <span class="text-xl">ğŸ“</span>
        </div>
    </div>

    <h1 class="text-3xl font-black text-gray-800 tracking-tighter mb-2">Ã–zel Dersim</h1>
    <p class="text-gray-500 font-medium max-w-[280px] mb-12">Ã–zel ders sÃ¼reÃ§lerinizi tek noktadan, profesyonelce yÃ¶netin!</p>

    <button onclick="googleIleGiris()" class="group relative flex items-center justify-center gap-3 w-full max-w-sm bg-white border-2 border-gray-100 py-4 px-6 rounded-2xl shadow-sm hover:shadow-xl hover:border-blue-100 transition-all duration-300">
        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-6 h-6" alt="Google">
        <span class="text-gray-700 font-black text-sm uppercase tracking-wide">Google ile Devam Et</span>
        
        <div class="absolute inset-0 rounded-2xl bg-blue-50 opacity-0 group-hover:opacity-10 transition-opacity"></div>
    </button>

    <div class="mt-16 flex flex-col gap-4">
        <div class="flex items-center gap-6 justify-center text-gray-400">
            <div class="flex flex-col items-center">
                <span class="text-xl font-bold text-gray-700">100%</span>
                <span class="text-[10px] uppercase font-black">GÃ¼venli</span>
            </div>
            <div class="w-[1px] h-8 bg-gray-100"></div>
            <div class="flex flex-col items-center">
                <span class="text-xl font-bold text-gray-700">Bulut</span>
                <span class="text-[10px] uppercase font-black">Yedekleme</span>
            </div>
        </div>
        <p class="text-[10px] text-gray-300 font-bold uppercase tracking-widest mt-4">IMKUCUKHACI Technology</p>
    </div>
</div>

    <div id="anaUygulama" style="display:none;">

<header class="bg-white/90 backdrop-blur-md border-b sticky top-0 z-40">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
<div class="flex items-center gap-2.5 group cursor-pointer">
    
    <div class="w-9 h-9 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-blue-200/50 transform group-hover:scale-105 transition-all duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
            <path d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.199z" />
        </svg>
    </div>
    
    <div class="flex flex-col leading-none">
        <span class="font-black text-xl text-gray-800 tracking-tight group-hover:text-blue-600 transition-colors">Ders<span class="text-blue-600">Takip</span></span>
        <span class="text-[9px] font-bold text-gray-400 uppercase tracking-widest pl-0.5">Profesyonel Asistan</span>
    </div>
</div>
<div class="flex items-center gap-2">
    <button onclick="tercihleriAc()" class="h-9 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 px-3 rounded-lg transition flex items-center gap-1.5 group">
        <span class="text-sm group-hover:rotate-90 transition-transform duration-500">âš™ï¸</span>
        <span class="hidden md:inline font-bold text-[10px] uppercase tracking-wide">Tercihlerim</span>
    </button>

    <button onclick="cikisYap()" class="h-9 w-9 bg-red-50 hover:bg-red-100 text-red-500 rounded-lg transition flex items-center justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75" />
        </svg>
    </button>
</div>
    </div>
</header>

        <main class="max-w-7xl mx-auto p-4 lg:p-8">

            <div id="panelSayfa" class="sayfa-bolum">
    <div class="flex flex-col justify-center mb-6 px-1 mt-2">
        <h2 class="text-2xl font-black text-gray-800 tracking-tight flex items-center gap-2">
            Merhaba, <span id="karsilamaAd" class="text-blue-600">Hocam</span> ğŸ‘‹
        </h2>
        <p id="karsilamaTarih" class="text-gray-400 font-bold text-xs uppercase tracking-widest mt-1"></p>
    </div>
                
<div class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6 mb-8">
    
    <div class="bg-white p-5 rounded-3xl shadow-sm border border-gray-100 relative overflow-hidden group h-30 flex flex-col justify-between transition-all hover:shadow-md">
        <div class="absolute right-2 bottom-2 text-3xl opacity-20 text-gray-300 group-hover:scale-110 transition-transform duration-500 select-none pointer-events-none">
            ğŸ‘¥
        </div>
        
        <div class="relative z-10">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1">Toplam Ã–ÄŸrenci</p>
            <h3 id="panel-toplamOgrenci" class="text-2xl font-black text-gray-800 tracking-tight">0</h3>
        </div>
        
        <div class="w-12 h-1.5 bg-blue-500 rounded-full mt-auto relative z-10 opacity-80"></div>
    </div>

    <div class="bg-white p-5 rounded-3xl shadow-sm border border-gray-100 relative overflow-hidden group h-30 flex flex-col justify-between transition-all hover:shadow-md">
        <div class="absolute right-2 bottom-2 text-3xl opacity-20 text-gray-300 group-hover:scale-110 transition-transform duration-500 select-none pointer-events-none">
            ğŸ“š
        </div>
        
        <div class="relative z-10">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1">Bu Ay Ders</p>
            <h3 id="panel-buAyDers" class="text-2xl font-black text-gray-800 tracking-tight">0</h3>
        </div>
        
        <div class="w-12 h-1.5 bg-indigo-500 rounded-full mt-auto relative z-10 opacity-80"></div>
    </div>

    <div class="bg-white p-5 rounded-3xl shadow-sm border border-gray-100 relative overflow-hidden group h-30 flex flex-col justify-between transition-all hover:shadow-md">
        <div class="absolute right-2 bottom-0 text-3xl opacity-20 text-gray-300 group-hover:scale-110 transition-transform duration-500 select-none font-serif pointer-events-none">
            ğŸ’µ
        </div>
        
        <div class="relative z-10">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1">AylÄ±k KazanÃ§</p>
            <h3 id="panel-kazanc" class="text-2xl font-black text-emerald-600 tracking-tight">â‚º0</h3>
        </div>
        
        <div class="w-12 h-1.5 bg-emerald-500 rounded-full mt-auto relative z-10 opacity-80"></div>
    </div>

    <div class="bg-white p-5 rounded-3xl shadow-sm border border-gray-100 relative overflow-hidden group h-30 flex flex-col justify-between transition-all hover:shadow-md">
        <div class="absolute right-2 bottom-2 text-3xl opacity-20 text-gray-300 group-hover:scale-110 transition-transform duration-500 select-none pointer-events-none">
            âŒ›
        </div>
        
        <div class="relative z-10">
            <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1">Bekleyen Ã–deme</p>
            <h3 id="panel-bekleyen" class="text-2xl font-black text-rose-500 tracking-tight">â‚º0</h3>
        </div>
        
        <div class="w-12 h-1.5 bg-rose-500 rounded-full mt-auto relative z-10 opacity-80"></div>
    </div>

</div>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-y-12 gap-x-6 mb-24">
    <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col h-[300px] md:h-[350px]">
        <h4 class="font-black text-gray-800 text-lg mb-4 md:mb-6 tracking-tight">AylÄ±k KazanÃ§</h4>
        <div class="flex-1 w-full relative min-h-0">
            <canvas id="kazancChart"></canvas>
        </div>
    </div>

    <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col h-[300px] md:h-[350px]">
        <h4 class="font-black text-gray-800 text-lg mb-4 md:mb-6 tracking-tight">Ders YoÄŸunluÄŸu</h4>
        <div class="flex-1 w-full relative min-h-0">
            <canvas id="dersChart"></canvas>
        </div>
    </div>
</div>

</div>

            <div id="takvimSayfa" class="sayfa-bolum" style="display:none">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mb-6">
                    <h2 class="text-xl font-black mb-4 flex items-center gap-2">ğŸ“† HaftalÄ±k Program AyarlarÄ±</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-8 gap-3">
                        <input type="text" id="ogrenci" placeholder="Ã–ÄŸrenci AdÄ±" class="p-3 border rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none">
                        <input type="tel" id="iletisim" placeholder="Tel No (Opsiyonel)" class="p-3 border rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none">
                        <input type="number" id="ucret" placeholder="Saatlik Ãœcret" class="p-3 border rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none">
                        <select id="duzey" class="p-3 border rounded-xl text-sm bg-white outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">SÄ±nÄ±f DÃ¼zeyi SeÃ§iniz</option>
                        </select>
                        <select id="gun" class="p-3 border rounded-xl text-sm bg-white">
                            <option value="1">Pazartesi</option><option value="2">SalÄ±</option><option value="3">Ã‡arÅŸamba</option>
                            <option value="4">PerÅŸembe</option><option value="5">Cuma</option><option value="6">Cumartesi</option><option value="7">Pazar</option>
                        </select>
                        <select id="baslangic" class="p-3 border rounded-xl text-sm bg-white">
                            <option value="13">13:00</option><option value="13.5">13:30</option><option value="14">14:00</option>
                            <option value="14.5">14:30</option><option value="15">15:00</option><option value="15.5">15:30</option>
                            <option value="16">16:00</option><option value="16.5">16:30</option><option value="17">17:00</option>
                            <option value="17.5">17:30</option><option value="18">18:00</option><option value="18.5">18:30</option>
                            <option value="19">19:00</option><option value="19.5">19:30</option><option value="20">20:00</option>
                            <option value="20.5">20:30</option><option value="21">21:00</option><option value="21.5">21:30</option><option value="22">22:00</option>
                        </select>
                        <select id="sure" class="p-3 border rounded-xl text-sm bg-white">
                            <option value="">Ders SÃ¼resi SeÃ§iniz</option>
                        </select>
                        <button onclick="dersEkle()" class="bg-blue-600 text-white font-bold rounded-xl py-3 hover:bg-blue-700 transition shadow-md">Dersi Kaydet</button>
                    </div>
                </div>

                <div class="table-container bg-white rounded-2xl shadow-sm border border-gray-100">
                    <table class="w-full text-sm relative">
                        <thead>
                            <tr class="bg-gray-50 border-b">
                                <th class="p-2 w-6 text-left font-bold text-gray-400 uppercase text-[10px]">Saat</th>
                                <th class="p-4 font-bold text-gray-700">PZT</th><th class="p-4 font-bold text-gray-700">SAL</th>
                                <th class="p-4 font-bold text-gray-700">Ã‡AR</th><th class="p-4 font-bold text-gray-700">PER</th>
                                <th class="p-4 font-bold text-gray-700">CUM</th><th class="p-4 font-bold text-gray-700">CMT</th>
                                <th class="p-4 font-bold text-gray-700 text-red-500">PAZ</th>
                            </tr>
                        </thead>
                        <tbody id="takvimBody">
                            <script>
                                for (let s = 13; s < 22.1; s += 0.5) {
                                    const bas = s % 1 === 0 ? `${s}:00` : `${Math.floor(s)}:30`;
                                    document.write("<tr class='border-b last:border-0'>");
                                    document.write(`<td class='p-3 font-bold bg-gray-50 text-gray-400 text-xs border-r text-center'>${bas}</td>`);
                                    for (let g = 1; g <= 7; g++) {
                                        document.write(`<td id="hucre-${g}-${s}" class="p-0 border-r min-h-[50px] relative"></td>`);
                                    }
                                    document.write("</tr>");
                                }
                            </script>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div id="kazancSayfa" class="sayfa-bolum" style="display:none">
                
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mb-6">
                    <h2 class="text-xl font-black mb-6 flex items-center gap-2 text-gray-800">
                        âœ¨ Ders KaydÄ± OluÅŸtur
                    </h2>

                    <div class="flex flex-col gap-5">
                        <div class="space-y-1.5">
                            <label class="text-[11px] font-bold text-gray-400 uppercase ml-1 tracking-wide">Ã–ÄRENCÄ° SEÃ‡Ä°NÄ°Z</label>
                            <div class="relative">
                                <select id="kazancOgrenci" class="w-full p-4 border border-gray-200 rounded-2xl text-sm bg-gray-50 outline-none focus:bg-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition appearance-none font-bold text-gray-700">
                                    </select>
                                <div class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">â–¼</div>
                            </div>
                        </div>

                        <div class="space-y-1.5">
                            <label class="text-[11px] font-bold text-gray-400 uppercase ml-1 tracking-wide">TARÄ°H</label>
                            <input type="date" id="kazancTarih" class="w-full p-4 border border-gray-200 rounded-2xl text-sm bg-gray-50 outline-none focus:bg-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition appearance-none font-bold text-gray-700 text-left h-[54px]">
                        </div>

                        <div class="space-y-1.5">
                            <label class="text-[11px] font-bold text-gray-400 uppercase ml-1 tracking-wide">SÃœRE</label>
                            <div class="relative">
                                <select id="kazancSure" class="w-full p-4 border border-gray-200 rounded-2xl text-sm bg-gray-50 outline-none focus:bg-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition appearance-none font-bold text-gray-700">
                                    </select>
                                <div class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">â–¼</div>
                            </div>
                        </div>

                        <div class="space-y-1.5">
                            <label class="text-[11px] font-bold text-gray-400 uppercase ml-1 tracking-wide">Ã–DEME DURUMU</label>
                            <div onclick="document.getElementById('kazancOdeme').click()" class="w-full p-4 border border-gray-200 rounded-2xl bg-white hover:bg-gray-50 transition cursor-pointer flex items-center gap-3 h-[54px]">
                                <div class="relative flex items-center">
                                    <input type="checkbox" id="kazancOdeme" class="peer h-6 w-6 cursor-pointer appearance-none rounded-lg border-2 border-gray-300 transition-all checked:border-emerald-500 checked:bg-emerald-500" onclick="event.stopPropagation()">
                                    <svg class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 text-white opacity-0 peer-checked:opacity-100 pointer-events-none transition-opacity" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="3">
                                        <path d="M20 6L9 17l-5-5"></path>
                                    </svg>
                                </div>
                                <span class="text-sm font-bold text-gray-600 select-none">Ã–deme AlÄ±ndÄ± Olarak Ä°ÅŸaretle</span>
                            </div>
                        </div>

                        <button onclick="kazancEkle()" class="w-full py-4 bg-emerald-600 text-white font-black rounded-2xl hover:bg-emerald-700 transition shadow-lg shadow-emerald-200 active:scale-95 text-base flex items-center justify-center gap-2 mt-2">
                            <span>KAYDET</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="font-black text-gray-700 text-lg flex items-center gap-2">
                            <span>ğŸ“Š</span> KazanÃ§ Tablosu
                        </h3>
                        <select id="yilSecim" onchange="kazancTablosuCiz()" class="p-2 border rounded-xl text-sm bg-gray-50 font-bold outline-none focus:ring-2 focus:ring-emerald-500">
                            <option value="2025">2025</option><option value="2026" selected>2026</option><option value="2027">2027</option>
                        </select>
                    </div>
                    <div class="overflow-x-auto">
                        <table id="kazancTablo" class="w-full text-center text-[11px] border-collapse">
                            <thead>
                                <tr class="bg-gray-50 text-gray-400 font-bold border-b">
                                    <th class="p-4 text-left rounded-tl-xl">Ã–ÄRENCÄ°</th>
                                    <th>OCA</th><th>ÅUB</th><th>MAR</th><th>NÄ°S</th><th>MAY</th><th>HAZ</th>
                                    <th>TEM</th><th>AÄU</th><th>EYL</th><th>EKÄ°</th><th>KAS</th><th class="rounded-tr-xl">ARA</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100 text-xs">
                                </tbody>
                        </table>
                    </div>
                </div>
            </div>

<div id="raporSayfa" class="sayfa-bolum" style="display:none">
    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mb-6 no-print">
        <h2 class="text-xl font-black mb-6 flex items-center gap-2 text-gray-800">
            <span class="p-2 bg-gray-800 text-white rounded-lg text-sm">ğŸ“Š</span> DetaylÄ± Raporlama
        </h2>
        
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
            <div class="space-y-1">
                <label class="text-[10px] font-bold text-gray-400 uppercase ml-1">Ã–ÄŸrenci SeÃ§in</label>
                <select id="raporFiltreOgrenci" class="w-full p-3 border rounded-xl text-sm bg-gray-50 outline-none focus:ring-2 focus:ring-blue-500 transition"></select>
            </div>
            <div class="space-y-1">
                <label class="text-[10px] font-bold text-gray-400 uppercase ml-1">YÄ±l</label>
                <select id="raporFiltreYil" class="w-full p-3 border rounded-xl text-sm bg-gray-50 outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="all">TÃ¼m YÄ±llar</option>
                    <option value="2025">2025</option>
                    <option value="2026" selected>2026</option>
                </select>
            </div>
            <div class="space-y-1">
                <label class="text-[10px] font-bold text-gray-400 uppercase ml-1">Ay</label>
                <select id="raporFiltreAy" class="w-full p-3 border rounded-xl text-sm bg-gray-50 outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="all">TÃ¼m Aylar</option>
                    <option value="0">Ocak</option><option value="1">Åubat</option><option value="2">Mart</option>
                    <option value="3">Nisan</option><option value="4">MayÄ±s</option><option value="5">Haziran</option>
                    <option value="6">Temmuz</option><option value="7">AÄŸustos</option><option value="8">EylÃ¼l</option>
                    <option value="9">Ekim</option><option value="10">KasÄ±m</option><option value="11">AralÄ±k</option>
                </select>
            </div>
            <div class="flex gap-2">
                <button onclick="raporUret()" class="flex-1 bg-blue-600 text-white font-bold rounded-xl py-3 hover:bg-blue-700 transition shadow-md">Sorgula</button>
                <button onclick="window.print()" class="bg-gray-800 text-white p-3 rounded-xl hover:bg-black transition shadow-md" title="PDF / YazdÄ±r">ğŸ–¨ï¸</button>
            </div>
        </div>
    </div>

    <div id="raporOnizleme" class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 min-h-[500px]">
        <div class="text-center text-gray-400 py-20">
            <p>Filtreleri seÃ§ip "Sorgula" butonuna basÄ±n.</p>
        </div>
    </div>
</div>

        </main>
    </div>

    <div id="secimModalArka" class="modal-arka" style="display:none;">
        <div class="bg-white p-6 rounded-2xl max-w-sm w-full shadow-2xl mx-4 transform transition-all scale-100">
            <h3 class="font-black text-xl mb-2 text-gray-800">Ders Ä°ÅŸlemleri</h3>
            <p class="text-gray-400 text-sm mb-6 font-medium">Bu ders kaydÄ± Ã¼zerinde ne yapmak istersiniz?</p>
            <div class="flex flex-col gap-3">
                <button onclick="secimSil()" class="w-full bg-red-50 text-red-600 font-bold py-4 rounded-xl hover:bg-red-100 transition flex items-center justify-center gap-2">ğŸ—‘ï¸ Dersi Programdan KaldÄ±r</button>
                <button onclick="secimDuzenle()" class="w-full bg-orange-50 text-orange-600 font-bold py-4 rounded-xl hover:bg-orange-100 transition flex items-center justify-center gap-2">âœï¸ Bilgileri DÃ¼zenle</button>
                <button onclick="secimKapat()" class="w-full bg-gray-100 text-gray-600 font-bold py-4 rounded-xl hover:bg-gray-200 transition">Ä°ptal</button>
            </div>
        </div>
    </div>

    <div id="ayModalArka" class="modal-arka" style="display:none;">
        <div class="bg-white p-6 rounded-2xl max-w-2xl w-full shadow-2xl mx-4 max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center mb-6">
                <h3 id="ayModalBaslik" class="font-black text-xl text-gray-800">AylÄ±k Detay</h3>
                <button onclick="ayModalKapat()" class="p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition">âœ•</button>
            </div>
            <div id="ayKayitListe" class="overflow-y-auto space-y-3 pr-2">
                </div>
        </div>
    </div>

<div id="tercihlerSayfa" class="fixed inset-0 z-[100] bg-white md:bg-gray-900/80 md:backdrop-blur-sm flex items-center justify-center p-0 md:p-4" style="display:none;">
    
    <div class="bg-white w-full h-full md:h-auto md:max-w-lg md:rounded-3xl shadow-none md:shadow-2xl overflow-y-auto relative flex flex-col">
        
        <div class="bg-gray-50 border-b p-4 flex justify-between items-center sticky top-0 z-10">
            <h2 class="text-lg font-black text-gray-800">âš™ï¸ Tercihlerim</h2>
            <button onclick="tercihKapat()" class="bg-gray-200 text-gray-600 w-8 h-8 rounded-full flex items-center justify-center font-bold">âœ•</button>
        </div>
        
        <div class="p-6 space-y-6 flex-1">
            <div class="space-y-1">
                <label class="text-xs font-bold text-gray-400 uppercase">Ã–ÄŸretmen AdÄ±</label>
                <input type="text" id="prefHocaAd" class="input-mobil">
            </div>
            
            <div class="space-y-1">
                <label class="text-xs font-bold text-gray-400 uppercase">BranÅŸ</label>
                <input type="text" id="prefBrans" class="input-mobil">
            </div>

            <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100">
                <h3 class="font-bold text-blue-900 text-xs mb-3">Ã‡ALIÅMA SAATLERÄ°</h3>
                <div class="flex items-center gap-3">
                    <select id="prefMesaiBasla" class="input-mobil bg-white text-center"><option value="9">09:00</option><option value="10">10:00</option><option value="11">11:00</option><option value="12">12:00</option><option value="13">13:00</option><option value="14">14:00</option></select>
                    <span class="text-gray-400">-</span>
                    <select id="prefMesaiBitis" class="input-mobil bg-white text-center"><option value="17">17:00</option><option value="18">18:00</option><option value="19">19:00</option><option value="20">20:00</option><option value="21">21:00</option><option value="22">22:00</option></select>
                </div>
            </div>

            <div>
                <label class="text-xs font-bold text-gray-400 uppercase mb-2 block">Tatil GÃ¼nleri</label>
                <div class="flex justify-between gap-1" id="prefGunler">
                    <button onclick="gunSec(this)" data-gun="1" class="gun-btn-mobil">Pzt</button>
                    <button onclick="gunSec(this)" data-gun="2" class="gun-btn-mobil">Sal</button>
                    <button onclick="gunSec(this)" data-gun="3" class="gun-btn-mobil">Ã‡ar</button>
                    <button onclick="gunSec(this)" data-gun="4" class="gun-btn-mobil">Per</button>
                    <button onclick="gunSec(this)" data-gun="5" class="gun-btn-mobil">Cum</button>
                    <button onclick="gunSec(this)" data-gun="6" class="gun-btn-mobil">Cmt</button>
                    <button onclick="gunSec(this)" data-gun="7" class="gun-btn-mobil text-red-400">Paz</button>
                </div>
            </div>
            <div class="mt-6">
                <label class="text-xs font-bold text-gray-400 uppercase mb-2 block">Ders SÃ¼releri (Saat)</label>
                <div class="grid grid-cols-5 gap-1.5" id="prefSureler">
                    <button onclick="sureSec(this)" data-sure="1" class="sure-btn-mobil">1 saat</button>
                    <button onclick="sureSec(this)" data-sure="1.5" class="sure-btn-mobil">1.5 saat</button>
                    <button onclick="sureSec(this)" data-sure="2" class="sure-btn-mobil">2 saat</button>
                    <button onclick="sureSec(this)" data-sure="2.5" class="sure-btn-mobil">2.5 saat</button>
                    <button onclick="sureSec(this)" data-sure="3" class="sure-btn-mobil">3 saat</button>
                </div>
            </div>

<div class="mt-6 mb-12">
                <label class="text-xs font-bold text-gray-400 uppercase mb-2 block">Ã–ÄŸrenci DÃ¼zeyleri</label>
                
                <button onclick="duzeyMenusuAcKapa()" class="w-full flex justify-between items-center p-4 bg-white border border-gray-200 rounded-xl shadow-sm active:bg-gray-50 transition">
                    <span class="text-sm font-bold text-gray-700 flex items-center gap-2">
                        ğŸ“ DÃ¼zeyleri SeÃ§
                        <span id="secimSayisiRozeti" class="hidden bg-blue-600 text-white text-[10px] px-2 py-0.5 rounded-full">0</span>
                    </span>
                    <svg id="duzeyOk" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>

                <div id="duzeyCekmece" class="hidden mt-2 bg-gray-50 p-4 rounded-xl border border-gray-200">
                    <div class="grid grid-cols-3 gap-2">
                        <button onclick="duzeySec(this)" data-duzey="ilkokul" class="duzey-btn-mobil font-bold text-blue-800 bg-blue-100 border-blue-200">Ä°lkokul</button>
                        <button onclick="duzeySec(this)" data-duzey="ortaokul" class="duzey-btn-mobil font-bold text-blue-800 bg-blue-100 border-blue-200">Ortaokul</button>
                        <button onclick="duzeySec(this)" data-duzey="lise" class="duzey-btn-mobil font-bold text-blue-800 bg-blue-100 border-blue-200">Lise</button>
                        
                        <button onclick="duzeySec(this)" data-duzey="1. SÄ±nÄ±f" class="duzey-btn-mobil">1. SÄ±nÄ±f</button>
                        <button onclick="duzeySec(this)" data-duzey="2. SÄ±nÄ±f" class="duzey-btn-mobil">2. SÄ±nÄ±f</button>
                        <button onclick="duzeySec(this)" data-duzey="3. SÄ±nÄ±f" class="duzey-btn-mobil">3. SÄ±nÄ±f</button>
                        <button onclick="duzeySec(this)" data-duzey="4. SÄ±nÄ±f" class="duzey-btn-mobil">4. SÄ±nÄ±f</button>
                        <button onclick="duzeySec(this)" data-duzey="5. SÄ±nÄ±f" class="duzey-btn-mobil">5. SÄ±nÄ±f</button>
                        <button onclick="duzeySec(this)" data-duzey="6. SÄ±nÄ±f" class="duzey-btn-mobil">6. SÄ±nÄ±f</button>
                        <button onclick="duzeySec(this)" data-duzey="7. SÄ±nÄ±f" class="duzey-btn-mobil">7. SÄ±nÄ±f</button>
                        <button onclick="duzeySec(this)" data-duzey="8. SÄ±nÄ±f" class="duzey-btn-mobil">8. SÄ±nÄ±f</button>
                        <button onclick="duzeySec(this)" data-duzey="9. SÄ±nÄ±f" class="duzey-btn-mobil">9. SÄ±nÄ±f</button>
                        <button onclick="duzeySec(this)" data-duzey="10. SÄ±nÄ±f" class="duzey-btn-mobil">10. SÄ±nÄ±f</button>
                        <button onclick="duzeySec(this)" data-duzey="11. SÄ±nÄ±f" class="duzey-btn-mobil">11. SÄ±nÄ±f</button>
                        <button onclick="duzeySec(this)" data-duzey="12. SÄ±nÄ±f" class="duzey-btn-mobil">12. SÄ±nÄ±f</button>
                        
                        <button onclick="duzeySec(this)" data-duzey="Mezun" class="duzey-btn-mobil">Mezun</button>
                        <button onclick="duzeySec(this)" data-duzey="Diger" class="duzey-btn-mobil col-span-2">DiÄŸer</button>
                    </div>
                </div>
            </div> 
        </div>

        <div class="p-4 border-t sticky bottom-0 bg-white">
            <button onclick="ayarlariKaydet()" class="w-full bg-blue-600 text-white font-bold py-4 rounded-xl text-sm shadow-lg shadow-blue-200 active:scale-95 transition">
                KAYDET VE GÃœNCELLE
            </button>
        </div>
    </div>
</div>

<nav id="nav-bar" class="fixed bottom-5 left-4 right-4 bg-white/90 backdrop-blur-xl border border-white/20 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] flex justify-between items-center px-4 py-2 z-50 transition-all duration-300">
    
    <button onclick="sayfaGoster('panel')" id="nav-panel" 
            data-color="text-blue-600" 
            data-bg="bg-blue-50"
            class="nav-btn flex flex-col items-center justify-center w-full gap-0.5 text-gray-400 transition-all duration-300 rounded-xl py-2 active:scale-95">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 mb-0.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
        </svg>
        <span class="text-[10px] font-bold tracking-wide">Panel</span>
    </button>

    <button onclick="sayfaGoster('takvim')" id="nav-takvim" 
            data-color="text-violet-600" 
            data-bg="bg-violet-50"
            class="nav-btn flex flex-col items-center justify-center w-full gap-0.5 text-gray-400 transition-all duration-300 rounded-xl py-2 active:scale-95">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 mb-0.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" />
        </svg>
        <span class="text-[10px] font-bold tracking-wide">Ã–ÄŸrenci Ekle</span>
    </button>

    <button onclick="sayfaGoster('kazanc')" id="nav-kazanc" 
            data-color="text-emerald-600" 
            data-bg="bg-emerald-50"
            class="nav-btn flex flex-col items-center justify-center w-full gap-0.5 text-gray-400 transition-all duration-300 rounded-xl py-2 active:scale-95">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 mb-0.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span class="text-[10px] font-bold tracking-wide">Ders Ekle</span>
    </button>

    <button onclick="sayfaGoster('rapor')" id="nav-rapor" 
            data-color="text-orange-500" 
            data-bg="bg-orange-50"
            class="nav-btn flex flex-col items-center justify-center w-full gap-0.5 text-gray-400 transition-all duration-300 rounded-xl py-2 active:scale-95">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 mb-0.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z" />
        </svg>
        <span class="text-[10px] font-bold tracking-wide">Raporlar</span>
    </button>

</nav>

    <script src="script.js"></script>
    <script>
        // Service Worker KaydÄ±
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js');
        }
    </script>
</body>
</html>

